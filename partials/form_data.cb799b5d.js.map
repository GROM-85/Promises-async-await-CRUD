{"mappings":"AAAA,MAAMA,KAAOC,SAASC,cAAc,iBAC9BC,IAAMF,SAASC,cAAc,gBAC7BE,UAAYH,SAASC,cAAc,YACnCG,SAAW,kCACXC,SAAW,CAAC,EAEZC,YAAc,CAACC,EAAQC,EAAO,aAChCC,QAAQC,IAAIH,GACZJ,UAAUQ,YAAc,GAAGJ,UAAgBC,GAAM,EAE/CI,UAAYC,MAAMC,IACpBA,EAAMC,iBAENC,cACAP,QAAQC,IAAIL,UACZ,IACI,MAAMY,QAAiBC,MAAMd,SAAS,CAClCe,OAAQ,OACRC,QAAQ,CAAC,eAAe,oBACxBC,KAAMC,KAAKC,UAAUlB,YAEzBI,QAAQC,IAAIO,GACZ,IAAIO,QAAaP,EAASQ,OAC1BhB,QAAQC,IAAIc,GACZlB,YAAYW,EAASS,WAAWC,KAAQV,EAASW,GAAa,UAAR,QAW1D,CATA,MAAMC,GACFpB,QAAQC,IAAImB,EAAMC,OACtB,SAEIrB,QAAQC,IAAI,cACZX,KAAKgC,QACLC,YAAW,KACP7B,UAAUQ,YAAc,KAC1B,KACN,GAGJ,IAAIK,YAAc,KACd,IAAI,IAAKiB,EAAIC,KAAU,IAAIC,SAASpC,MAAMqC,UACtC/B,SAAS4B,GAAOC,CAAA,EAIxBnC,KAAKsC,iBAAiB,SAASzB","sources":["src/js/form_data.js"],"sourcesContent":["const form = document.querySelector(\".subscription\");\nconst btn = document.querySelector(\".submit__btn\");\nconst messageEl = document.querySelector(\".message\");\nconst BASE_URL = \"http://localhost:8081/employees\"\nconst formData = {};\n\nconst showMessage = (message,type = \"success\") =>{\n    console.log(message)\n    messageEl.textContent = `${message} with ${type}`;\n }\nconst subscribe = async(event) =>{\n    event.preventDefault();\n    \n    getFormData();\n    console.log(formData)\n    try{\n        const response = await fetch(BASE_URL,{\n            method: \"POST\",\n            headers:{\"Content-Type\":\"application/json\"},\n            body: JSON.stringify(formData),\n        })\n        console.log(response)\n        let data = await response.json();\n        console.log(data);\n        showMessage(response.statusText,type = !response.ok ? \"error\":\"success\")\n    }\n    catch(error){\n        console.log(error.status);\n    }\n    finally{\n        console.log(\"clear form\")\n        form.reset();// cause in finally event is null\n        setTimeout(() => {\n            messageEl.textContent = \"\";\n        },1500)\n    }\n}\n\nlet getFormData = () => {\n    for(let [key,value] of new FormData(form).entries()){\n        formData[key] = value;\n    }\n}\n\nform.addEventListener(\"submit\",subscribe)"],"names":["form","document","querySelector","btn","messageEl","BASE_URL","formData","showMessage","message","type1","console","log","textContent","subscribe","async","event","preventDefault","getFormData","response","fetch","method","headers","body","JSON","stringify","data","json","statusText","type","ok","error","status","reset","setTimeout","key","value","FormData","entries","addEventListener"],"version":3,"file":"form_data.cb799b5d.js.map"}