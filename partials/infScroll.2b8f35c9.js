!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},e.parcelRequired7c6=n);var a=n("6JpON");function i(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function s(e,t){return t.get?t.get.call(e):t.value}function o(e,t){return s(e,i(e,t,"get"))}function l(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function u(e,t,r){l(e,t),t.set(e,r)}function c(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function p(e,t,r){return c(e,i(e,t,"set"),r),r}function f(e,t){if(t.set){if(!t.get)throw new TypeError("attempted to read set only private field");return"__destrWrapper"in t||(t.__destrWrapper={set value(r){t.set.call(e,r)},get value(){return t.get.call(e)}}),t.__destrWrapper}if(!t.writable)throw new TypeError("attempted to set read only private field");return t}function d(e,t){return f(e,i(e,t,"update"))}var h=new WeakMap,g=new WeakMap,w=new WeakMap,y=new WeakMap,v=new WeakMap;a=n("6JpON");const m={form:document.querySelector(".js-search-form"),list:document.querySelector(".js-gallery"),loadMoreBtn:document.querySelector(".js-load-more")},{form:b,list:_}=m,T=new class{async getData(){Object.assign(o(this,v),{query:o(this,y),page:o(this,w)});const e=await fetch(o(this,h)+new URLSearchParams(o(this,v)));if(!e.ok)throw new Error(error);return this.updatePage(),await e.json()}get page(){return o(this,w)}set page(e){p(this,w,e)}updatePage(){d(this,w).value++}resetPage(){p(this,w,1)}get query(){return o(this,y)}set query(e){p(this,y,e)}constructor(){u(this,h,{writable:!0,value:"https://api.unsplash.com/search/photos/?"}),u(this,g,{writable:!0,value:"dLJeZqeou3_BYhf5-_GYI9_T-1QpbbZYg0-MlkmGVyg"}),u(this,w,{writable:!0,value:void 0}),u(this,y,{writable:!0,value:void 0}),u(this,v,{writable:!0,value:{client_id:o(this,g),query:o(this,y),per_page:10,page:o(this,w),color:"black",orientation:"portrait"}}),p(this,w,1),p(this,y,"")}},q=new IntersectionObserver(((e,t)=>{console.log(e[0]);e[0].isIntersecting&&(t.unobserve(e[0].target),E())}),{threshold:.5});async function E(){try{const{results:e,total_pages:t}=await T.getData(),r=function(e){return e.map((({urls:e,alt_description:t})=>`<li class="gallery__item">\n        <img src="${e.small}" alt="${t}" class="gallery-img">\n    </li>`)).join("")}(e);!function(e,t,r){m.list.insertAdjacentHTML("beforeend",r),e<t&&a.Notify.info("Run out of results!")}(t,T.page,r);const n=m.list.lastElementChild;n&&q.observe(n)}catch(e){a.Notify.failure(e.message)}}b.addEventListener("submit",(e=>{e.preventDefault();const{query:t}=e.currentTarget.elements;""!==t.value.trim()?(m.list.innerHTML="",T.resetPage(),T.query=t.value.trim(),E(),e.currentTarget.reset()):a.Notify.warning("Enter some data!")}))}();
//# sourceMappingURL=infScroll.2b8f35c9.js.map
