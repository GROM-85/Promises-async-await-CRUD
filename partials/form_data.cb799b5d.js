const form=document.querySelector(".subscription"),btn=document.querySelector(".submit__btn"),messageEl=document.querySelector(".message"),BASE_URL="http://localhost:8081/employees",formData={},showMessage=(e,t="success")=>{console.log(e),messageEl.textContent=`${e} with ${t}`},subscribe=async e=>{e.preventDefault(),getFormData(),console.log(formData);try{const e=await fetch(BASE_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(formData)});console.log(e);let t=await e.json();console.log(t),showMessage(e.statusText,type=e.ok?"success":"error")}catch(e){console.log(e.status)}finally{console.log("clear form"),form.reset(),setTimeout((()=>{messageEl.textContent=""}),1500)}};let getFormData=()=>{for(let[e,t]of new FormData(form).entries())formData[e]=t};form.addEventListener("submit",subscribe);
//# sourceMappingURL=form_data.cb799b5d.js.map
