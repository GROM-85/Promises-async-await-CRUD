{"mappings":"AAAA,MAAMA,EAAU,wEACVC,EAAW,uCCEjB,MAAMC,EAAUC,SAASC,cAAc,eACjCC,EAAWF,SAASC,cAAc,cDArBE,WACf,MAAMC,EAAU,CACZC,OAAO,MACPC,QAAQ,CACJ,YAAYT,EACZ,eAAe,qBAOjBU,QAAiBC,MAAMV,EAAU,UAAY,IAAIW,gBAJxC,CACXC,KAAM,MACNC,MAAM,IAEqEP,GAC/E,IAAIG,EAASK,GACT,MAAM,IAAIC,MAAMC,OAEpB,aAAaP,EAASQ,MAAI,ECd9BC,GAAaC,MAAKC,IACd,MAAMC,EAAyBD,ECNnBE,KAAI,EAACC,IAAEA,EAAGC,GAAEA,KACb,oDAEED,qBACDC,uDAITC,KAAK,IDDRxB,EAAQyB,mBAAmB,YAAYL,EAAA,IAkB3CpB,EAAQ0B,iBAAiB,SAfzBtB,eAAgCuB,GAC5B,MAAMJ,EAAKI,EAAEC,OAAOL,GAEpB,IACI,MAAMM,OD8BYzB,OAAOmB,IAC7B,MAAMlB,EAAU,CACZC,OAAO,SACPC,QAAQ,CACJ,eAAe,mBACf,YAAaT,IAGfU,QAAiBC,MAAMV,EAAW,GAAGwB,IAAKlB,GAChD,IAAIG,EAASK,GACT,MAAM,IAAIC,MAAMC,OAEpB,aAAaP,EAASQ,MAAI,EC1CAc,CAAkBP,GACxCQ,QAAQC,IAAIH,EAMhB,CALC,MAAMd,GACHgB,QAAQC,IAAIjB,EAChB,SAEIY,EAAEC,OAAOK,QACb,CAEJ,IAGA9B,EAASuB,iBAAiB,UAAStB,MAAOuB,IACtC,MAAMO,EAAOP,EAAEQ,cAAcC,MAAM,GACnC,IAEA,MAAMjB,ODPUf,OAAOiC,IACxB,MAAMC,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAOH,GACtB,MAAMhC,EAAU,CACZC,OAAO,OACPC,QAAQ,CACJ,YAAYT,GAEhB2C,KAAKH,GAMH9B,QAAiBC,MAAMV,EAAW,SAAW,IAAIW,gBAHxC,CAEf,GAC+EL,GAC/E,IAAIG,EAASK,GACT,MAAM,IAAIC,MAAMC,OAEpB,aAAaP,EAASQ,MAAI,ECXR0B,CAAYR,GAC9BH,QAAQC,IAAIb,EAKZ,CAFA,MAAMJ,GACFgB,QAAQC,IAAIjB,EAChB","sources":["src/js/petsApi_CRUD/petApi.js","src/js/petsApi_CRUD/pet.js","src/js/petsApi_CRUD/renderMarkup.js"],"sourcesContent":["const API_KEY = \"live_ZbUHun3wu3uTP2TPC4gXHLIv4m5hPvT9FT8HsuHBlOB83V90UHGCiw1OM0jzQB7Z\";\nconst BASE_URL = \"https://api.thecatapi.com/v1/images/\";\n\n\nexport const get = async () =>{\n    const options = {\n        method:\"GET\",\n        headers:{\n            \"x-api-key\":API_KEY,\n            \"Content-Type\":\"application/json\"\n        }\n    }\n    const params = {\n        size: \"med\",\n        limit:5,\n    }\n    const response = await fetch(BASE_URL+ \"search?\" + new URLSearchParams(params),options);\n    if(!response.ok){\n        throw new Error(error);\n    }\n    return await response.json();\n}\n\n\nexport const post = async (image) => {\n   const formData = new FormData(); // can create own form data key/value pairs\n   formData.append(\"file\",image);\n    const options = {\n        method:\"POST\",\n        headers:{\n            \"x-api-key\":API_KEY\n        },\n        body:formData\n\n    }\n    const params = {\n\n    }\n    const response = await fetch(BASE_URL + \"upload\" + new URLSearchParams(params),options);\n    if(!response.ok){\n        throw new Error(error);\n    }\n    return await response.json();\n}\n\nexport const deleteData = async (id) => {\n    const options = {\n        method:\"DELETE\",\n        headers:{\n            \"Content-Type\":\"application/json\",\n            'x-api-key': API_KEY\n        }\n    }\n    const response = await fetch(BASE_URL + `${id}`,options);\n    if(!response.ok){\n        throw new Error(error);\n    }\n    return await response.json();\n}\n\n","import * as catApi from \"./petApi\";\nimport { createPetsCards } from \"./renderMarkup\";\n\nconst gallery = document.querySelector(\".js-gallery\");\nconst inputImg = document.querySelector(\".input-img\");\n\ncatApi.get().then(res => {\n    const markup = createPetsCards(res);\n    gallery.insertAdjacentHTML(\"beforeend\",markup);\n})\n\nasync function deleteImgHandler(e){\n    const id = e.target.id;\n\n    try{\n        const reponse = await catApi.deleteData(id);\n        console.log(reponse)\n    }catch(error){\n        console.log(error);\n    }\n    finally{\n        e.target.remove();\n    }\n    \n}\n\ngallery.addEventListener(\"click\",deleteImgHandler);\ninputImg.addEventListener(\"change\",async (e) => {\n    const file = e.currentTarget.files[0];\n    try{\n\n    const res = await catApi.post(file);\n    console.log(res);\n\n    }\n    catch(error){\n        console.log(error);\n    }\n})\n","export function createPetsCards(pets) {\n    return pets.map(({ url, id }) => {\n        return `<li class=\"card\"\">\n        <img\n          src=\"${url}\"\n          id=\"${id}\"\n          alt=\"pet cat\"\n        />\n    </li>`\n    }).join(\"\")\n}"],"names":["$66f17b877f3d9173$var$API_KEY","$66f17b877f3d9173$var$BASE_URL","$df15f44331ba1c47$var$gallery","document","querySelector","$df15f44331ba1c47$var$inputImg","async","options","method","headers","response","fetch","URLSearchParams","size","limit","ok","Error","error","json","$66f17b877f3d9173$export$3988ae62b71be9a3","then","res","markup","map","url","id","join","insertAdjacentHTML","addEventListener","e","target","reponse","$66f17b877f3d9173$export$759f93bbe12f0fab","console","log","remove","file","currentTarget","files","image","formData","FormData","append","body","$66f17b877f3d9173$export$299ba2dee77727e9"],"version":3,"file":"pets.b0d41d37.js.map"}