{"mappings":"AAAA,MAAMA,EAAYC,SAASC,eAAe,cACpCC,EAAWF,SAASC,eAAe,QACnCE,EAAqBH,SAASI,cAAc,yBAC5CC,EAAiBL,SAASC,eAAe,oBAG/CF,EAAUO,iBAAiB,SAU3B,WACI,IAAIC,EAAiBP,SAASC,eAAe,gBAAgBO,MAAMC,OACnEC,MAAM,wDAAwDH,KACzDI,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACF,IAAIC,EAAO,GACPD,EAAKE,OACLF,EAAKE,MAAMC,SAAQC,IACfH,GAAQ,6DAC8BG,EAAKC,uGAErBD,EAAKE,mJAGbF,EAAKG,6WAOtB,IAEDnB,EAASoB,UAAUC,OAAO,cAE1BR,EAAO,kCACPb,EAASoB,UAAUE,IAAI,aAG3BtB,EAASuB,UAAYV,GA6DXW,KAAKC,MAAMC,aAAaC,QAAQ,eAAiB,IAEzDZ,SAAQ,SAAUa,GACxB,MAAMZ,EAAOlB,SAASI,cAAc,aAAa0B,OACjDZ,EAAKd,cAAc,iBAAiBkB,UAAUE,IAAI,sBAClDN,EAAKd,cAAc,iBAAiB2B,YAAc,sBACtD,GAlEQ,GAEZ,IAzCA7B,EAASI,iBAAiB,SA6C1B,SAAuB0B,GACnB,GAAIA,EAAEC,OAAOX,UAAUY,SAAS,cAAe,CAC3C,IAAIC,EAAWH,EAAEC,OAAOG,cAAcA,cACtC1B,MAAM,wDAAwDyB,EAASE,QAAQC,MAC1E3B,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,GA0BlB,SAAyBI,GACrBqB,QAAQC,IAAItB,GAEZ,IAAIH,EAAO,yCADXG,EAAOA,EAAK,IAE0BG,sDACHH,EAAKuB,gHAG3BvB,EAAKwB,yGAGIxB,EAAKE,wGAGNF,EAAKyB,sEAG1BxC,EAAmBsB,UAAYV,EAC/BZ,EAAmBiC,cAAcd,UAAUE,IAAI,aACnD,CA7C0BoB,CAAgB9B,EAAKE,QAC3C,CACJ,IAnDAd,EAASI,iBAAiB,SAoD1B,SAA2B0B,GACvB,GAAIA,EAAEC,OAAOX,UAAUY,SAAS,gBAAiB,CAC7C,IAAIC,EAAWH,EAAEC,OAAOG,cAAcA,cAAcC,QAAQC,GAE5D,MAAMO,EAAYnB,KAAKC,MAAMC,aAAaC,QAAQ,eAAiB,GAEnE,GAAIG,EAAEC,OAAOX,UAAUY,SAAS,sBAAuB,CACnD,MAAMY,EAAmBD,EAAUE,QAAO7B,GAAQA,IAASiB,IAC3DP,aAAaoB,QAAQ,YAAatB,KAAKuB,UAAUH,IAEjDd,EAAEC,OAAOX,UAAUC,OAAO,sBAC1BS,EAAEC,OAAOF,YAAc,iBAC3B,MACIc,EAAUK,KAAKf,GACfP,aAAaoB,QAAQ,YAAatB,KAAKuB,UAAUJ,IAEjDb,EAAEC,OAAOX,UAAUE,IAAI,sBACvBQ,EAAEC,OAAOF,YAAc,sBAG/B,CACJ,IAvEA1B,EAAeC,iBAAiB,SAAS,KACrCH,EAAmBiC,cAAcd,UAAUC,OAAO","sources":["src/js/meals.js"],"sourcesContent":["const searchBtn = document.getElementById('search-btn');\nconst mealList = document.getElementById('meal');\nconst mealDetailsContent = document.querySelector('.meal-details-content');\nconst recipeCloseBtn = document.getElementById('recipe-close-btn');\n\n// event listeners\nsearchBtn.addEventListener('click', getMealList);\nmealList.addEventListener('click', getMealRecipe);\nmealList.addEventListener('click', addMealToFavorite);\n\nrecipeCloseBtn.addEventListener('click', () => {\n    mealDetailsContent.parentElement.classList.remove('showRecipe');\n});\n\n\n// get meal list that matches with the ingredients\nfunction getMealList() {\n    let searchInputTxt = document.getElementById('search-input').value.trim();\n    fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?i=${searchInputTxt}`)\n        .then(response => response.json())\n        .then(data => {\n            let html = \"\";\n            if (data.meals) {\n                data.meals.forEach(meal => {\n                    html += `\n                    <div class = \"meal-item\" data-id = \"${meal.idMeal}\">\n                        <div class = \"meal-img\">\n                            <img src = \"${meal.strMealThumb}\" alt = \"food\">\n                        </div>\n                        <div class = \"meal-name\">\n                            <h3>${meal.strMeal}</h3>\n                        </div>\n                        <div class = \"meal-buttons\">\n                            <button type=\"button\" class=\"recipe-btn\">Get Recipe</button>\n                            <button type=\"button\" class=\"favorite-btn\">Add to favorite</button>\n                        </div>\n                    </div>\n                `;\n                });\n                mealList.classList.remove('notFound');\n            } else {\n                html = \"Sorry, we didn't find any meal!\";\n                mealList.classList.add('notFound');\n            }\n\n            mealList.innerHTML = html;\n            setFavorites()\n        });\n}\n\n\n// get recipe of the meal\nfunction getMealRecipe(e) {\n    if (e.target.classList.contains('recipe-btn')) {\n        let mealItem = e.target.parentElement.parentElement;\n        fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${mealItem.dataset.id}`)\n            .then(response => response.json())\n            .then(data => mealRecipeModal(data.meals));\n    }\n}\nfunction addMealToFavorite(e) {\n    if (e.target.classList.contains('favorite-btn')) {\n        let mealItem = e.target.parentElement.parentElement.dataset.id;\n\n        const favorites = JSON.parse(localStorage.getItem(\"favorites\")) || [];\n\n        if (e.target.classList.contains('removeFavorite-btn')) {\n            const updatedFavorites = favorites.filter(meal => meal !== mealItem);\n            localStorage.setItem(\"favorites\", JSON.stringify(updatedFavorites))\n\n            e.target.classList.remove('removeFavorite-btn');\n            e.target.textContent = \"Add to favorite\"\n        } else {\n            favorites.push(mealItem)\n            localStorage.setItem(\"favorites\", JSON.stringify(favorites))\n\n            e.target.classList.add('removeFavorite-btn');\n            e.target.textContent = \"Remove from favorite\"\n        }\n\n    }\n}\n// create a modal\nfunction mealRecipeModal(meal) {\n    console.log(meal);\n    meal = meal[0];\n    let html = `\n        <h2 class = \"recipe-title\">${meal.strMeal}</h2>\n        <p class = \"recipe-category\">${meal.strCategory}</p>\n        <div class = \"recipe-instruct\">\n            <h3>Instructions:</h3>\n            <p>${meal.strInstructions}</p>\n        </div>\n        <div class = \"recipe-meal-img\">\n            <img src = \"${meal.strMealThumb}\" alt = \"\">\n        </div>\n        <div class = \"recipe-link\">\n            <a href = \"${meal.strYoutube}\" target = \"_blank\">Watch Video</a>\n        </div>\n    `;\n    mealDetailsContent.innerHTML = html;\n    mealDetailsContent.parentElement.classList.add('showRecipe');\n}\n\n\nfunction setFavorites() {\n    const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\n    favorites.forEach(function (favorite) {\n        const meal = document.querySelector(`[data-id=\"${favorite}\"]`);\n        meal.querySelector(\".favorite-btn\").classList.add('removeFavorite-btn');\n        meal.querySelector(\".favorite-btn\").textContent = \"Remove from favorite\"\n    });\n}"],"names":["$92cf457691df6c51$var$searchBtn","document","getElementById","$92cf457691df6c51$var$mealList","$92cf457691df6c51$var$mealDetailsContent","querySelector","$92cf457691df6c51$var$recipeCloseBtn","addEventListener","searchInputTxt","value","trim","fetch","then","response","json","data","html","meals","forEach","meal","idMeal","strMealThumb","strMeal","classList","remove","add","innerHTML","JSON","parse","localStorage","getItem","favorite","textContent","e","target","contains","mealItem","parentElement","dataset","id","console","log","strCategory","strInstructions","strYoutube","$92cf457691df6c51$var$mealRecipeModal","favorites","updatedFavorites","filter","setItem","stringify","push"],"version":3,"file":"meals.a17e76ab.js.map"}