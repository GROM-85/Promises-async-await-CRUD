{"mappings":"AAAO,MAEMA,EAAU,CACnBC,EAAG,GACHC,OAHY,mCAIZC,OAAQ,GACRC,SAAS,KACTC,SAAU,IAIDC,EAAO,CAChBC,MAAOC,SAASC,cAAc,eAC9BJ,SAAUG,SAASC,cAAc,aACjCC,UAAUF,SAASC,cAAc,eACjCN,OAAQK,SAASC,cAAc,WAC/BE,QAASH,SAASC,cAAc,aAChCG,QAASJ,SAASC,cAAc,aCX7B,SAASI,GAAaC,SAACA,IAE1B,OADAC,QAAQC,IAAIF,GACLA,EAASG,KAAI,EAACC,OAACA,EAAMC,YAACA,EAAWC,MAACA,EAAKC,WAACA,KACrC,sBACAD,sBACDF,qBACAC,yDACoCE,WAAoBD,yEAG9DE,KAAK,GACZ,CCTA,MAAMC,EAAW,ICRV,MAMHC,cAAcC,GACV,MAAMC,QAAiBC,MAAMC,KAAKC,IAAM,IAAIC,gBAAgBL,IAC5D,IAAIC,EAASK,GACT,MAAM,IAAIC,MAAMC,OAGpB,OADAL,KAAKM,mBACQR,EAASS,MAC1B,CAEAD,aACIN,KAAKQ,MACT,CACAC,YACIT,KAAKQ,KAAO,CAChB,CAnBAE,aAAYT,IAACA,GAAO,CAAC,GACjBD,KAAKC,IAAMA,EACXD,KAAKQ,KAAO,CAChB,GDIyB,CAACP,IFRN,uCEUxBL,eAAee,IAEX,GAAiB,MADjBvC,EAAQC,EAAIK,EAAKC,MAAMiC,MAAMC,QAG7B,IAeAzC,EAAQI,SAAWE,EAAKK,QAAQ6B,MAChCxC,EAAQK,SAAWC,EAAKD,SAASmC,MACjCxC,EAAQG,OAASG,EAAKH,OAAOqC,MAfzB,MAAME,QAAanB,EAASoB,QAAQ3C,GACpCM,EAAKM,QAAQgC,mBAAmB,YAAY/B,EAAa6B,GAO7D,CALA,MAAMT,GACFlB,QAAQC,IAAIiB,EAChB,SAEI3B,EAAKC,MAAMiC,MAAQ,EACvB,CAEJ,CAQAlC,EAAKI,UAAUmC,iBAAiB,QAAQN,GACxCjC,EAAKC,MAAMsC,iBAAiB,SAAUC,IACrB,UAAVA,EAAEC,KACDR,GAAA","sources":["src/js/news/constNews.js","src/js/news/render.js","src/js/news/news.js","src/js/news/newsAPi.js"],"sourcesContent":["export const BASE_URL = \"https://newsapi.org/v2/everything?\";\nconst API_KEY = \"6be6f344da2b4b97bc5add7ed8b5d4a3\";\nexport const options = {\n    q: \"\",\n    apiKey: API_KEY,\n    sortBy: \"\",\n    pageSize:null,\n    searchIn: \"\",\n\n}\n\nexport const refs = {\n    input: document.querySelector(\".search-bar\"),\n    searchIn: document.querySelector(\"#searchIn\"),\n    searchBtn:document.querySelector(\"#search_btn\"),\n    sortBy: document.querySelector(\"#sortBy\"),\n    perPage: document.querySelector(\"#pageSize\"),\n    content: document.querySelector(\".content\"),\n\n}","import { refs } from \"./constNews\";\n\nexport function clearContent(){\n    refs.content.innerHTML = \"\";\n}\n\nexport function renderMarkup({articles}){\n    console.log(articles);\n    return articles.map(({author,description,title,urlToImage}) => {\n        return`<div>\n        <h3>${title}</h3>\n        <p>${author}</p>\n        <p>${description}</p>\n        <img width=\"300px\" height=\"100px\" src=\"${urlToImage}\" alt=\"${title}\"/>\n        <button type=\"button\">Read more</button>\n      </div>`\n    }).join(\"\");\n}","// TODO:\n//1\n//2\n//3\n\nimport { newsAPI } from \"./newsAPi\";\nimport { refs,BASE_URL,options } from \"./constNews\";\nimport { renderMarkup ,clearContent} from \"./render\";\nconst fetchApi = new newsAPI({url:BASE_URL})\n\nasync function searchHandler(){\n    options.q = refs.input.value.trim();\n    if(options.q === \"\") return;\n\n    try{\n        updateOptions();\n        const data = await fetchApi.getData(options);\n        refs.content.insertAdjacentHTML(\"beforeend\",renderMarkup(data))\n    }\n    catch(error){\n        console.log(error);\n    }\n    finally{\n        refs.input.value = \"\";\n    }\n\n} \n\nfunction updateOptions(){\n    options.pageSize = refs.perPage.value;\n    options.searchIn = refs.searchIn.value;\n    options.sortBy = refs.sortBy.value;\n}\n\nrefs.searchBtn.addEventListener(\"click\",searchHandler)\nrefs.input.addEventListener(\"keyup\", (e) => {\n    if(e.key === \"Enter\"){\n        searchHandler();\n    }\n})\n\n","export class newsAPI{\n    constructor({url} = {}){\n        this.url = url;\n        this.page = 1;\n    }\n\n    async getData(options){\n        const response = await fetch(this.url + new URLSearchParams(options));\n        if(!response.ok){\n            throw new Error(error);\n        }\n        this.updatePage();\n        return await response.json();\n    }\n\n    updatePage(){\n        this.page ++;\n    }\n    resetPage(){\n        this.page = 1;\n    }\n}"],"names":["$4d1348fe61926cc9$export$41c562ebe57d11e2","q","apiKey","sortBy","pageSize","searchIn","$4d1348fe61926cc9$export$21666b427502ea6d","input","document","querySelector","searchBtn","perPage","content","$5a159a30e2816a70$export$add40575555c273c","articles","console","log","map","author","description","title","urlToImage","join","$9fe2d50c65052546$var$fetchApi","async","options","response","fetch","this","url","URLSearchParams","ok","Error","error","updatePage","json","page","resetPage","constructor","$9fe2d50c65052546$var$searchHandler","value","trim","data","getData","insertAdjacentHTML","addEventListener","e","key"],"version":3,"file":"news.b9b46f43.js.map"}