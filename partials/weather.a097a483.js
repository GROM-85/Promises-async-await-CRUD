!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in t){var o=t[e];delete t[e];var i={id:e,exports:{}};return n[e]=i,o.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,n){t[e]=n},e.parcelRequired7c6=o);function i(){if(navigator.geolocation)return new Promise(((e,n)=>{navigator.geolocation.getCurrentPosition(e,n)}))}const s="e54a017c96b5e417c1c8ce7b4e12bcdd",a={appid:s,q:"",units:"metric",lang:"en"},r={appid:s,lat:"",lon:"",units:"metric",lang:"en"};var c=o("iAkvZ");const l=e=>{const{name:n}=e,{temp:t,feels_like:o,humidity:i}=e.main,{country:s,sunrise:a,sunset:r}=e.sys,{description:l,icon:d}=e.weather[0],{speed:u}=e.wind;let f=(0,c.default)(new Date(1e3*a),"HH:mm"),g=(0,c.default)(new Date(1e3*r),"HH:mm");return console.log(f),console.log(g),` <div class="weather">\n    <h2 class="city">Weather in ${n}, ${s}</h2>\n    <h1 class="temp">${Math.floor(t)}°C</h1>\n    <div class="flex">\n      <img src="https://openweathermap.org/img/wn/${d}.png" alt="" class="icon" />\n      <div class="description">${l}</div>\n    </div>\n    <div class="feels_like">Feels like: ${Math.floor(o)}°C</div>\n    <div class="humidity">Humidity: ${i}%</div>\n    <div class="wind">Wind speed: ${u} km/h</div>\n    <div class="sunrise">Sunrise: ${f}</div>\n    <div class="sunset">Sunset: ${g}</div>\n  </div>`},d=document.querySelector(".search-bar"),u=document.querySelector("#get_location_btn"),f=document.querySelector("#search_btn"),g=document.querySelector(".content"),h=new class{async getData(e){console.log(this.url);const n=await fetch(this.url+new URLSearchParams(e));if(!n.ok)throw new Error("Ooops smthg went wrong!");return console.log(n),await n.json()}constructor({url:e}={}){this.url=e}}({url:"https://api.openweathermap.org/data/2.5/weather?"});async function p(){try{m(),a.q=d.value.trim();const e=await h.getData(a),n=l(e);g.insertAdjacentHTML("beforeend",n)}catch(e){console.log(e.message)}finally{d.value=""}}function m(){g.innerHTML=""}u.addEventListener("click",(async function(){try{m();const{coords:{latitude:e,longitude:n}}=await i();r.lat=e,r.lon=n;const t=await h.getData(r);console.log(t);const o=l(t);g.insertAdjacentHTML("beforeend",o)}catch(e){console.log(e.message)}})),f.addEventListener("click",p),d.addEventListener("keyup",(e=>{"Enter"===e.key&&p()}))}();
//# sourceMappingURL=weather.a097a483.js.map
